<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercise 27:Asynchronous Background</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>
<body class="container-fluid">
    <div class="row">
        <div class="col-12 m-5 p-5" ></div>
        <div class="col-12 m-5 p-5 text-center">
            <h1 id="bgCol"></h1>
            <h1 id="time"></h1>
                <input class="rounded" type="number" min="0.25" placeholder="color change /sec" id="seconds">
                <input class="rounded" type="number" min="1" placeholder="countdown /sec" id="cntDwn">
                
                <button class="btn btn-dark" onclick="start()">
                    Go
                </button>
                <button class="btn btn-dark" onclick="pause(); setInterval(timer, 1000); ">
                    Stop
                </button>
        </div>
        <div class="col-12 m-5 p-5"></div>
    </div>
</body>
<script>
    const time = document.getElementById("time");
    function colorChange(){
        let tempArr = [];
        let bgCol = document.getElementById("bgCol");
        let red = Math.floor(Math.random()*256);
        let green = Math.floor(Math.random()*256);
        let blue = Math.floor(Math.random()*256);
        tempArr.push(red);
        tempArr.push(green);
        tempArr.push(blue);
        document.body.style.backgroundColor = "rgb(" + tempArr.toString() + ")";
        bgCol.innerHTML = "rgb(" + tempArr.toString() + ")";
    };
    
    function start(){
        let sec = document.getElementById("seconds").value;
        sec = sec*1000;
        intervalID = setInterval(colorChange, sec);  
    };
    function stop(){
        clearInterval(intervalID);
    };
    // function timer(){
    //     let display = document.getElementById("cntDwn").value;
    //     display = display*1;
    //     time.innerHTML = display + "seconds";
    //     if(display > 0){
    //         display--}
    //         else{
    //             return 0
    //         }
    // };

    function pause(){
        // InTime = setInterval(timer, 1000);  
        let cntDwn = document.getElementById("cntDwn").value;
        cntDwn = cntDwn*1000;
        setTimeout(stop,cntDwn);
    }
   
    
</script>
</html>